/* ===============================
   Reset & Tokens
================================ */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

:root {
  --nav-h: 80px;
  /* navbar height */
  --nav-gap: 12px;
  /* breathing room */
  --sb-bg: #0a0b0f;
  --sb-panel: #12131a;
  --sb-panel2: #171922;
  --sb-border: #2a2d36;
  --sb-text: #e6dccb;
  --sb-dim: #b9b09e;
  --sb-gold: #c2a13a;
  --sb-divider: color-mix(in oklab, var(--sb-gold) 35%, transparent);
  --sb-gold-strong: #e1b84d;
  --sb-radius: 14px;
  --sb-gap: 10px;
  --bg-tile: 900px;

}

/* ===============================
   Base
================================ */
html {
  background: #0a0b0f;
}

:target {
  scroll-margin-top: 40vh;
  /* works with fragment navigation in modern browsers */
}

/* Only affects the materials table */
.materials-table {
  width: 100%;
  border-collapse: collapse;
  /* keep tidy spacing */
  border: none;
  /* no outer border */
}

/* Cells: no borders, same padding/align as before */
.materials-table th,
.materials-table td {
  border: none;
  /* remove all cell borders */
  padding: 0.2rem;
  vertical-align: top;
  background: transparent;
  /* default, overridden by row striping */
}

/* Header row (uses your tr-left class) */
.materials-table .tr-left th {
  text-align: left;
  /* optional: subtle header background; tweak or remove as desired */
  background: color-mix(in srgb, var(--sb-gold-strong) 10%, transparent);
}

/* Zebra striping for body rows */
.materials-table tbody tr:nth-child(odd) {
  background: var(--sb-row-odd, rgba(255, 255, 255, 0.03));
}

.materials-table tbody tr:nth-child(even) {
  background: var(--sb-row-even, rgba(255, 255, 255, 0.08));
}

/* Optional: a soft hover (still borderless) */
.materials-table tbody tr:hover {
  background: color-mix(in srgb, var(--sb-row-even, #ffffff) 20%, transparent);
}

/* Title/heading style (unchanged) */
.skz-vk-th {
  padding: 14px 0;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: .08em;
  color: var(--sb-gold-strong);
  position: relative;
}

body {
  padding-top: calc(var(--nav-h) + var(--nav-gap));
  font-family: 'Alegreya', serif;
  min-height: 100vh;
  color: var(--sb-text);
  background-color: var(--sb-bg);
  font-size: 22px;
  /* Layered grainy background */
  background-image:
    url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='64' height='64' viewBox='0 0 64 64'>\
  <filter id='n'><feTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/></filter>\
  <rect width='100%' height='100%' filter='url(%23n)' opacity='0.11'/>\
</svg>"),
    url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='128' height='128' viewBox='0 0 128 128'>\
  <filter id='n2'><feTurbulence type='fractalNoise' baseFrequency='0.45' numOctaves='2' stitchTiles='stitch'/></filter>\
  <rect width='100%' height='100%' filter='url(%23n2)' opacity='0.06'/>\
</svg>"),
    radial-gradient(100% 140% at 15% 20%, rgba(255, 255, 255, .05), transparent 40%),
    radial-gradient(120% 150% at 85% 10%, rgba(255, 255, 255, .03), transparent 45%),
    radial-gradient(120% 120% at 50% 40%, transparent 58%, rgba(0, 0, 0, .45) 78%, rgba(0, 0, 0, .75) 100%);
  background-repeat: repeat, repeat, no-repeat, no-repeat, no-repeat;
  background-size: 160px 160px, 420px 420px, 100% 100%, 100% 100%, 100% 100%;
  background-position: 0 0, 0 0, center, center, center;
  background-attachment: scroll, scroll, scroll, scroll, scroll;
}

a {
  color: var(--sb-gold);
  text-decoration: none;
}

a:hover,
a:focus,
a:active {
  color: var(--sb-gold-strong);
}

blockquote {
  font: 600 1.3rem 'Alegreya', serif;
  padding: 10px;
  background: rgba(194, 161, 58, .10);
  border: 1px solid var(--sb-border);
  border-radius: 8px;
}


h2 {
  font-size: 2rem;
  font-weight: 900;
}

h3 {
  font-size: 1.6rem;
  font-weight: 900;
}

h4 {
  font-size: 1.2rem;
  font-weight: 900;
}

.h4c {
  text-align: center;
  margin-top: 6px;
}

.noborder {
  border: none;
}

img.noborder[src*="divider"] {
  display: block;
  margin: 0 auto 12px;
}

body p {
  text-align: justify;
  line-height: 1.5;
  margin: 1em 0;
}

.skz-quote-attribution {
  color: var(--sb-dim);
}

/* ===============================
   Layout
================================ */
.grid-container {
  display: grid;
  grid-template-columns: 20% 60% 20%;
  gap: 20px;
  max-width: 80%;
  margin: 2em auto 1em;
  align-items: start;
}

.grid-single {
  display: grid;
  grid-template-columns: repeat(1, 1fr);
  max-width: 80%;
  margin: 2em auto 1em;
  align-items: start;
}

.grid-even {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 40px;
  max-width: 80%;
  margin: 2em auto 1em;
  align-items: start;
}

.grid-two {
  display: grid;
  grid-template-columns: 7fr 3fr;
  /* ~70% / 30% */
  gap: 40px;
  max-width: 80%;
  margin: 2em auto 1em;
  align-items: start;
}

.grid-two-wide {
  display: grid;
  grid-template-columns: 3fr 7fr;
  /* ~70% / 30% */
  gap: 40px;
  max-width: 80%;
  margin: 2em auto 1em;
  align-items: start;
}

/* optional: stack on small screens */
@media (max-width: 900px) {
  .grid-two {
    grid-template-columns: 1fr;
  }
}

.grid-four {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 20px;
  max-width: 80%;
  margin: 2em auto 1em;
  align-items: start;
}

.left-column,
.right-column {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.tr-left {
  text-align: left;
}

.center-column {
  padding: 0 10px;
  font-size: 1.5em;
}

/* ===============================
   Forms / Buttons
================================ */
.contact,
textarea {
  width: 100%;
  font-size: 2rem;
  font-weight: 900;
  color: var(--sb-text);
  background: var(--sb-panel);
  border: 1px solid var(--sb-border);
  font-size: 1rem;
}

textarea.contact {
  height: 300px;
}

button {
  background: var(--sb-panel);
  border: 1px solid var(--sb-border);
  color: var(--sb-text);
  padding: 8px;
  font-size: 16px;
  height: 40px;
  width: 100%;
}

.nodec {
  list-style: none;
}

/* ──────────────────────────────────────────────────────────
   Table of Contents (ordered list)
   Usage: <ol class="toc-list"> … </ol>
   Colors fall back if your site vars aren't present.
   ────────────────────────────────────────────────────────── */
.toc-list {
  /* use your site palette (with safe fallbacks) */
  --skz-accent: var(--sb-gold-strong, #d6b36a);
  --skz-text: var(--sb-text, #e6dccb);
  --skz-muted: var(--sb-dim, #b9b09e);
  margin: 0;
  padding: 0;
  list-style: none;
  counter-reset: toc;
  font-family: "Alegreya", serif;
  font-size: clamp(1rem, 1.2vw, 1.125rem);
  line-height: 1.55;
}

.toc-list>li {
  counter-increment: toc;
  display: grid;
  grid-template-columns: auto 1fr;
  align-items: baseline;
  column-gap: 0.75rem;
  margin: 0.25rem 0;
  padding: 0.35rem 0.75rem 0.35rem 0;
  border-left: 2px solid color-mix(in srgb, var(--skz-accent) 75%, transparent);
  color: var(--sb-dim);
  font-size: 1.3rem;
}

.toc-list>li::before {
  /* Force the number back even if another rule nulled it */
  content: counter(toc, decimal-leading-zero) !important;
  font-variant-numeric: tabular-nums;
  font-weight: 700;
  color: var(--skz-accent);
  background: linear-gradient(180deg,
      color-mix(in srgb, var(--skz-accent) 28%, transparent),
      transparent);
  padding: 0.15rem 0.5rem;
  border-radius: 0.375rem;
  transform: translateX(-0.25rem);
}

.toc-list a {
  color: var(--skz-text);
  text-decoration: none;
  transition: color 160ms ease, text-shadow 160ms ease;
}

.toc-list a:hover,
.toc-list a:focus-visible {
  color: var(--skz-accent);
  text-shadow: 0 0 8px color-mix(in srgb, var(--skz-accent) 35%, transparent);
  outline: none;
}

/* Optional nested sections (roman numerals) */
.toc-list ol {
  list-style: none;
  margin: 0.25rem 0 0.35rem 1.8rem;
  padding: 0;
  counter-reset: toc-sub;
}

.toc-list ol>li {
  counter-increment: toc-sub;
  border-left: 1px solid color-mix(in srgb, var(--skz-accent) 35%, transparent);
  padding-left: 0.75rem;
  margin: 0.2rem 0;
  color: var(--skz-muted);
}

.toc-list ol>li::before {
  content: counter(toc-sub, lower-roman) "." !important;
  /* same protection */
  margin-right: 0.5rem;
  color: var(--skz-accent);
  font-variant-numeric: tabular-nums;
}



/* -------------------------------------------- */
/* Viking-ish header: geometric, gilt, no runes */
/* -------------------------------------------- */

.skz-viking {
  /* box & theme */
  display: inline-block;
  padding: 14px 0;
  /* space for ornaments on both sides */
  /* type */
  font-family: "Jura", system-ui, Segoe UI, Roboto, Arial, sans-serif;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: .08em;
  color: var(--sb-gold-strong);

  /* engraved/gilt vibe */
  text-shadow:
    0 0 0.5px rgba(0, 0, 0, .5),
    0 0 10px color-mix(in srgb, var(--sb-gold-strong) 18%, transparent);

  position: relative;
}



/* slim top/bottom gilt bands */
.skz-viking::before,
.skz-viking::after {
  content: "";
  position: absolute;
  left: 10px;
  right: 10px;
  height: 2px;
  background:
    linear-gradient(90deg,
      transparent 0%,
      color-mix(in srgb, var(--sb-gold-strong) 65%, transparent) 15%,
      var(--sb-gold-strong) 50%,
      color-mix(in srgb, var(--sb-gold-strong) 65%, transparent) 85%,
      transparent 100%);
  opacity: .75;
  border-radius: 2px;
}

.skz-viking::before {
  top: 6px;
}

.skz-viking::after {
  bottom: 6px;
}

/* diamond bracket ornaments (kept subtle) */
.skz-viking>.orn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  font-family: "Cinzel Decorative", serif;
  font-weight: 700;
  color: var(--sb-gold-strong);
  text-shadow:
    0 0 6px color-mix(in srgb, var(--sb-gold-strong) 35%, transparent);
  letter-spacing: .2em;
  font-size: 1.05rem;
  opacity: .95;
  pointer-events: none;
  /* purely decorative */
}




/*────────────────────────────────────────────────────────── */
/* ==========================================================================
   Skazka Tables – Replacement CSS
   - Contents list (pretty <ol>)
   - Rune-badged H1 titles (neon blue rune, no JS)
   --------------------------------------------------------------------------
   Relies on site variables:
     --sb-panel, --sb-border, --accent, --text
   ========================================================================== */


/* ------------------------------------------
   1) CONTENTS LIST (pretty ordered list)
   ------------------------------------------ */

/* Prefer class-based targeting */
.skz-ol {
  list-style: none;
  margin: 0;
  padding: 0;
  counter-reset: skz-ol;
  display: grid;
  gap: 10px;
}

/* Fallback: style the first article’s list if no class provided */
.grid-even>article:first-of-type>ol.skz-ol {
  list-style: none;
  margin: 0;
  padding: 0;
  counter-reset: skz-ol;
  display: grid;
  gap: 10px;
}

/* Shared item styling */
.skz-ol>li,
.grid-even>article:first-of-type>ol.skz-ol>li {
  position: relative;
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 14px 12px 52px;
  /* left space for badge */
  background: var(--sb-panel);
  border: 1px solid var(--sb-border);
  border-radius: 12px;
  color: var(--text);
  line-height: 1.25;
  transition: border-color 160ms ease, transform 120ms ease;
  counter-increment: skz-ol;
}

.skz-ol>li:hover,
.grid-even>article:first-of-type>ol.skz-ol>li:hover {
  border-color: color-mix(in srgb, var(--sb-border) 60%, var(--accent) 40%);
  transform: translateY(-1px);
}

/* Only style lists that explicitly opt in via .skz-ol */
.skz-ol,
.grid-even>article:first-of-type>ol.skz-ol {
  counter-reset: skz-ol;
  list-style: none;
  margin: 0;
  padding: 0;
}

.skz-ol>li,
.grid-even>article:first-of-type>ol.skz-ol>li {
  position: relative;
  padding-left: 46px;
  /* room for the badge */
  counter-increment: skz-ol;
}

/* Number badge */
.skz-ol>li::before,
.grid-even>article:first-of-type>ol.skz-ol>li::before {
  content: counter(skz-ol);
  position: absolute;
  left: 10px;
  top: 50%;
  transform: translateY(-50%);
  width: 34px;
  height: 34px;
  border-radius: 10px;
  display: grid;
  place-items: center;
  font-weight: 700;
  font-size: 0.95rem;
  background: color-mix(in srgb, var(--accent) 85%, white 15%);
  color: #111;
  border: 1px solid var(--sb-border);
  box-shadow:
    0 1px 0 rgba(0, 0, 0, .25) inset,
    0 1px 6px rgba(0, 0, 0, .25);
}






/* ===============================
   Articles
================================ */
article h3 {
  margin: 10px 0;
}

article img {
  width: 100%;
  border: 2px solid var(--sb-gold);
  border-radius: 8px;
}

.article-small {
  background: var(--sb-panel);
  border: 1px solid var(--sb-border);
  border-radius: 8px;
  padding: 12px;
}

article li {
  margin-bottom: 15px;
  text-align: justify;
}

/* ===============================
   Footer
================================ */
.footer {
  position: relative;
  background: var(--sb-panel2);
  color: var(--sb-dim);
  border-top: 1px solid var(--sb-divider);
  padding: 3rem 1rem;
  font-family: 'Cinzel', serif;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, .03);
}

.footer::before {
  content: "";
  position: absolute;
  inset: 0 auto auto 0;
  height: 8px;
  width: 100%;
  background: linear-gradient(90deg,
      transparent 0%,
      color-mix(in oklab, var(--sb-gold) 18%, transparent) 12%,
      transparent 24%,
      transparent 76%,
      color-mix(in oklab, var(--sb-gold) 18%, transparent) 88%,
      transparent 100%);
  pointer-events: none;
  opacity: .6;
}

.footer-inner {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 8px;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  gap: .75rem;
}

.footer p {
  text-align: center;
  margin: .25rem 0;
}

.footer-inner img {
  height: 100px;
  display: block;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, .35));
}

.footer-nav,
.footer-socials {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-wrap: wrap;
  gap: .9rem 1.2rem;
  margin: .5rem 0 1rem;
}

.footer-nav a,
.footer-socials a {
  color: var(--sb-dim);
  text-decoration: none;
  padding: .25rem .75rem;
  border-radius: 8px;
  transition: color .25s ease, background .25s ease, box-shadow .25s ease;
}

.footer-nav a:hover,
.footer-socials a:hover {
  color: var(--sb-gold-strong);
  background: rgba(226, 184, 77, .08);
}

.footer-nav a:focus-visible,
.footer-socials a:focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px rgba(226, 184, 77, .25);
  color: var(--sb-gold-strong);
}

.footer-copy {
  font-size: .95rem;
  color: #8d8576;
  margin-top: .5rem;
  opacity: .9;
}

/* ===============================
   Lightbox
================================ */
img.popup {
  cursor: zoom-in;
  transition: transform .2s;
}

#lightbox {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, .8);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  overflow: hidden;
  touch-action: none;
}

#lightbox img {
  width: auto;
  height: auto;
  max-width: 600%;
  max-height: 600%;
  border-radius: 10px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, .5);
  cursor: move;
  transition: transform .1s ease-out;
  transform-origin: center;
  user-select: none;
  -webkit-user-drag: none;
}

#lightbox .close {
  position: absolute;
  top: 20px;
  right: 30px;
  color: var(--sb-text);
  font-size: 36px;
  font-weight: bold;
  cursor: pointer;
  z-index: 1100;
}

/* ===============================
   Voices of Skazka — Carousel
================================ */
.skz-fc {
  --gap: 12px;
  --radius: 14px;
  --pad: 12px;

  /* Card + arrow geometry */
  --card-w: min(900px, 80%);
  /* single source of truth for width */
  --arrow-gap: 18px;
  /* distance from card edge to arrow */

  display: block;
  width: 100%;
  padding-inline: clamp(10px, 2vw, 28px);
  /* tighter, even spacing to the divider/footer */
  margin: clamp(16px, 4vw, 48px) 0 clamp(24px, 3.5vw, 48px);
  position: relative;
  z-index: 0;
}

.skz-fc-viewport {
  position: relative;
  margin: 0 auto;
  width: var(--card-w);
  /* center and match card width */
  /* no height — let the active card define it */
}

.skz-fc-stage {
  position: relative;
}

/* Slide */
.skz-fc-slide {
  display: none;
  /* only active shown */
  position: relative;
  margin: 0 auto;
  width: var(--card-w);
  opacity: 0;
  pointer-events: none;
  z-index: 1;

  background: linear-gradient(180deg, var(--sb-panel), var(--sb-panel2));
  border: 1px solid var(--sb-border);
  border-radius: var(--sb-radius);
  box-shadow: 0 12px 28px rgba(0, 0, 0, .35), inset 0 1px 0 rgba(255, 255, 255, .03);
  overflow: hidden;
  transition: opacity .25s ease;
  cursor: pointer;
}

.skz-fc-slide .skz-fc-media {
  position: relative;
  width: 100%;
  aspect-ratio: 16/9;
  background: #0f1117;
  border-bottom: 1px solid var(--sb-border);
}

.skz-fc-slide .skz-fc-media img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.skz-fc-slide .skz-fc-body {
  padding: var(--pad) calc(var(--pad) + 2px);
}

/* More readable typography */
.skz-fc-title {
  margin: 2px 0 6px;
  font-weight: 900;
  font-size: clamp(1.4rem, 1vw + 1rem, 1.9rem);
  color: var(--sb-text);
}

.skz-fc-text {
  font-size: clamp(1.12rem, 0.65vw + 1rem, 1.38rem);
  color: var(--sb-dim);
  line-height: 1.6;
  margin-bottom: 10px;
}

/* Active only */
.skz-fc-slide.skz-active {
  display: block;
  opacity: 1;
  pointer-events: auto;
  z-index: 3;
}

.skz-fc-slide.skz-prev,
.skz-fc-slide.skz-next {
  display: none;
}

/* Arrows — absolutely position relative to the full section,
   but compute offsets from the centered card's width */
.skz-fc-nav {
  --size: clamp(44px, 4vw, 60px);
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: var(--size);
  height: var(--size);
  display: grid;
  place-items: center;
  border-radius: 999px;
  border: 1px solid color-mix(in oklab, var(--sb-gold) 55%, black);
  background: linear-gradient(180deg, var(--sb-gold-strong), var(--sb-gold));
  color: #0b0a07;
  box-shadow:
    0 0 0 2px rgba(226, 184, 77, .18),
    0 10px 24px rgba(0, 0, 0, .45),
    inset 0 1px 0 rgba(255, 255, 255, .15);
  cursor: pointer;
  user-select: none;
  transition: transform .08s ease, filter .2s ease, box-shadow .2s ease;
  line-height: 1;
  font-size: clamp(18px, 3.2vw, 28px);
  z-index: 4;
}

/* Place arrows just outside the card edges, regardless of viewport width */
.skz-fc-prev {
  left: calc(50% - (var(--card-w) / 2) - var(--arrow-gap));
}

.skz-fc-next {
  right: calc(50% - (var(--card-w) / 2) - var(--arrow-gap));
}

/* No-JS fallback */
.skz-fc-stage:not(.is-ready) .skz-fc-slide:first-child {
  display: block !important;
  opacity: 1 !important;
  pointer-events: auto;
  z-index: 3;
}

/* ===============================
   Timeline
================================ */
.tl-title {
  width: min(1100px, calc(100% - 32px));
  margin: 0 auto 18px;
  padding: 10px 16px;
  text-align: center;
  font-size: clamp(1.6rem, 2.2vw, 2.2rem);
  font-weight: 900;
  color: var(--sb-text);
  background: var(--sb-panel);
  border: 1px solid var(--sb-border);
  border-radius: 12px;
  box-shadow: 0 6px 18px rgba(0, 0, 0, .35), inset 0 1px 0 rgba(255, 255, 255, .04);
  position: relative;
}

.tl-title::after {
  content: "";
  position: absolute;
  left: 50%;
  top: 100%;
  width: 1px;
  height: 16px;
  transform: translateX(-50%);
  background: color-mix(in oklab, var(--sb-gold) 60%, transparent);
  opacity: .35;
}

/* Container + glowing spine */
.timeline {
  --title-clearance: 84px;
  position: relative;
  max-width: 1100px;
  margin: 0 auto 40px;
  padding: 24px 0;
}

.timeline h1 {
  position: relative;
  z-index: 1;
  width: min(1100px, calc(100% - 32px));
  margin: 0 auto 18px;
  padding: 10px 16px;
  text-align: center;
  font-size: clamp(1.8rem, 2.2vw, 2.4rem);
  font-weight: 900;
  color: var(--sb-text);
  background: var(--sb-panel);
  border: 1px solid var(--sb-border);
  border-radius: 12px;
  box-shadow: 0 6px 18px rgba(0, 0, 0, .35), inset 0 1px 0 rgba(255, 255, 255, .04);
}

.timeline::before {
  content: "";
  position: absolute;
  top: var(--title-clearance);
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 3px;
  background: linear-gradient(180deg,
      rgba(226, 184, 77, .65) 0%,
      rgba(226, 184, 77, .28) 15%,
      rgba(226, 184, 77, .20) 50%,
      rgba(226, 184, 77, .28) 85%,
      rgba(226, 184, 77, .65) 100%);
  box-shadow: 0 0 10px rgba(226, 184, 77, .22);
  opacity: .8;
  pointer-events: none;
}

.timeline::after {
  content: "";
  position: absolute;
  top: var(--title-clearance);
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 90px;
  background: radial-gradient(closest-side, rgba(226, 184, 77, .12), transparent 70%);
  opacity: .35;
  pointer-events: none;
  filter: blur(.5px);
}

/* Event blocks alternate left/right */
.event {
  position: relative;
  width: min(540px, calc(50% - 48px));
  padding: 0;
  margin: 22px 0;
}

.event:nth-child(even) {
  margin-left: auto;
}

/* Header card */
.event-header {
  position: relative;
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: 10px;
  padding: 14px 16px;
  border: 1px solid var(--sb-border);
  border-radius: 12px;
  background: linear-gradient(180deg, rgba(18, 19, 26, .75), rgba(23, 25, 34, .75));
  backdrop-filter: saturate(120%) blur(2px);
  box-shadow: 0 3px 12px rgba(0, 0, 0, .32), inset 0 1px 0 rgba(255, 255, 255, .04);
  cursor: pointer;
  color: var(--sb-text);
}

.event-header:focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px rgba(226, 184, 77, .25), 0 4px 16px rgba(0, 0, 0, .4);
}

/* Year + title */
.event-year {
  font-weight: bolder;
  font-size: clamp(1.2rem, 0.7vw + 1rem, 1.6rem);
  color: var(--sb-gold);
  margin-right: 6px;
}

.event-title {
  color: var(--sb-text);
  font-size: clamp(1.25rem, 0.75vw + 1rem, 1.7rem);
  letter-spacing: .2px;
}

/* Rune */
.rune {
  width: 28px;
  height: 28px;
  filter: drop-shadow(0 0 6px rgba(226, 184, 77, .15));
  transition: transform .25s ease, filter .25s ease;
}

.event-header:hover .rune {
  transform: rotate(-6deg) scale(1.03);
  filter: drop-shadow(0 0 10px rgba(226, 184, 77, .25));
}

/* Details */
.event-details {
  max-height: 0;
  overflow: hidden;
  opacity: 0;
  transition: max-height .35s ease, opacity .35s ease, padding .25s ease;
  padding: 0 14px;
  border-left: 1px dashed var(--sb-border);
  margin-left: 10px;
  color: var(--sb-dim);
  line-height: 1.6;
  font-size: clamp(1.15rem, 0.6vw + 1rem, 1.3rem);
}

.event.open .event-details {
  max-height: 480px;
  opacity: 1;
  padding: 10px 14px 8px;
}

/* Open accent */
.event.open {
  transform: translateY(-2px);
}

.event.open .event-header {
  border-color: color-mix(in oklab, var(--sb-gold) 65%, var(--sb-border));
  box-shadow: 0 8px 24px rgba(0, 0, 0, .45), 0 0 0 1px rgba(226, 184, 77, .12) inset;
}

/* Branches drawn via timeline.js */
#tl-branches {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;
}

#tl-branches .branch {
  fill: none;
  stroke: color-mix(in oklab, var(--sb-gold) 85%, #9a7b23);
  stroke-width: 2.25;
  filter: drop-shadow(0 0 6px rgba(226, 184, 77, .25));
  opacity: .85;
}

#tl-branches .leaf {
  fill: var(--sb-gold);
  filter: drop-shadow(0 0 8px rgba(226, 184, 77, .35));
  opacity: .95;
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {

  .event,
  .event-details,
  .event-header,
  .rune {
    transition: none !important;
  }
}

/* Mobile timeline */
@media (max-width: 800px) {

  .timeline h1,
  .tl-title {
    width: calc(100% - 24px);
  }

  .timeline {
    padding-left: 16px;
    padding-right: 16px;
  }

  .timeline::before {
    left: 20px;
    transform: none;
    opacity: .15;
  }

  .timeline::after {
    left: 20px;
    transform: none;
    width: 70px;
    opacity: .25;
  }

  .event {
    width: 100%;
  }

  .event-details {
    border-left: none;
    padding-left: 0;
    margin-left: 0;
  }
}

/* ===============================
   Responsive
================================ */
@media (min-width: 920px) {
  .footer-inner.is-wide {
    display: grid;
    grid-template-columns: 220px 1fr 220px;
    align-items: center;
    gap: 1rem 2rem;
    text-align: left;
  }

  .footer-inner.is-wide .footer-nav,
  .footer-inner.is-wide .footer-socials {
    justify-content: center;
  }

  .footer-inner.is-wide p,
  .footer-inner.is-wide .footer-copy {
    text-align: right;
  }
}

@media (max-width: 1024px) {

  article,
  article.featured {
    display: block;
    margin: 0 20px;
  }

  article {
    grid-column: span 3;
    display: grid;
    align-items: center;
  }
}

@media (max-width: 900px) {

  .skz-fc-viewport,
  .skz-fc-slide {
    width: 88%;
  }

  /* card a bit narrower on tablets */
}

@media (max-width: 768px) {
  .grid-container {
    grid-template-columns: 1fr;
    max-width: 90%;
  }

  .left-column,
  .center-column,
  .right-column {
    margin-bottom: 20px;
  }
}

@media (max-width: 760px) {
  .skz-fc {
    padding-inline: 12px;
  }

  .skz-fc-nav {
    --size: 44px;
  }
}

@media (max-width: 520px) {
  .footer {
    padding: 2.25rem 1rem;
  }

  .footer-inner img {
    height: 84px;
  }
}

/* Kill background drift on mobile / iOS */
@media (max-width: 900px),
(hover: none) and (pointer: coarse) {
  body {
    background-attachment: scroll;
    animation: none;
    background-position: center top, center, center, center, center;
  }
}

/* iOS Safari fix */
@supports (-webkit-touch-callout: none) {
  body {
    background-attachment: scroll;
    animation: none;
  }
}

span.tag {
  border-color: var(--sb-gold);
}

/* ─────────────────────────────────────────────
   Stats page — clean v2 (tb-* aligned, polished)
   Depends on tables.css for tb-panel/tb-table/buttons
   ──────────────────────────────────────────── */

/* HERO: centered + panel-grade styling */


.page-hero {
  /* layout */
  padding: clamp(16px, 3vw, 24px);
  margin: 18px 5vw;
  text-align: center;
  display: grid;
  place-items: center;
  row-gap: 6px;
  /* panel look to match site */
  background: linear-gradient(180deg, var(--sb-panel, #12131a), var(--sb-panel2, #171922));
  border: 1px solid var(--sb-border, #2a2d36);
  border-radius: var(--sb-radius, 14px);
  box-shadow: 0 12px 24px rgba(0, 0, 0, .45), inset 0 1px 0 rgba(255, 255, 255, .02);
}

.page-hero>* {
  margin-inline: auto;
}

.page-hero .skz-viking {
  color: var(--sb-gold-strong, #e1b84d);
  letter-spacing: .3px;
  font-weight: 900;
  margin: 0;
}

.page-hero .sub {
  opacity: .88;
  max-width: 70ch;
  margin: 0;
}

/* optional actions row inside hero */
.page-hero .tb-actions {
  display: inline-flex;
  gap: 8px;
  flex-wrap: wrap;
  justify-content: center;
  margin-top: 6px;
}

/* ensure buttons (and links-as-buttons) feel the same everywhere */
a.tb-btn,
a.tb-ghost-btn,
button.tb-btn,
button.tb-ghost-btn {
  display: inline-flex;
  align-items: center;
  gap: .5ch;
  text-decoration: none;
  cursor: pointer;
  /* hand on hover */
  border-radius: var(--sb-radius, 14px);
}

/* KPIs */
.kpi-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 10px;
  margin: 12px 0 20px;
}

.kpi-grid.kpi-mini {
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
}

.kpi-card {
  background: color-mix(in oklab, var(--sb-panel2, #171922) 85%, #000);
  border: 1px solid var(--sb-border, #2a2d36);
  border-radius: var(--sb-radius, 14px);
  padding: 10px 12px;
  text-align: center;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, .03);
}

.kpi-label {
  color: var(--sb-gold-strong);
  font-size: .95rem;
  opacity: .8;
}

.kpi-value {
  font-size: 1.25rem;
  font-weight: 800;
  margin-top: 4px;
}

/* Utility chips */
.pill {
  display: inline-block;
  padding: 4px 10px;
  border: 1px solid var(--sb-border);
  border-radius: 999px;
  background: rgba(255, 255, 255, .04);
  font-size: .8rem;
  line-height: 1;
  white-space: nowrap;
}

.tag {
  display: inline-block;
  padding: 2px 8px;
  border-radius: 8px;
  background: rgba(255, 255, 255, .06);
  border: 1px dashed var(--sb-border);
  font-size: .75rem;
}

.tag.good {
  border-color: #3cb371;
}

.tag.bad {
  border-color: #c04a4a;
}

/* Leaderboards (inside tb-panel; rows rendered with tb-table) */
.leaderboards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 10px;
  margin: 4px 0 12px;
}

.leaderboards .lb {
  border: 1px dashed var(--sb-border);
  border-radius: 12px;
  padding: 8px;
  background: rgba(255, 255, 255, .03);
}

.leaderboards .lb h4 {
  margin: 0 0 6px;
  font-size: 1rem;
}

/* Session list (left panel) */


.sl-item {
  border: 1px solid var(--sb-border, #2a2d36);
  background: color-mix(in oklab, var(--sb-panel2, #171922) 85%, #000);
  border-radius: 12px;
  padding: 10px;
  cursor: pointer;
  transition: filter .18s ease, transform .06s ease;
}

.sl-item:hover {
  filter: brightness(1.06) saturate(1.05);
  transform: translateY(-1px);
}

.sl-item.active {
  border: 2px solid var(--sb-gold-strong, #e1b84d);
  background: transparent;
  box-shadow: none !important;
}

.sl-top {
  display: block;
}

.sl-top strong {
  display: block;
  line-height: 1.25;
  margin: 2px 0;
  color: var(--sb-gold-strong);
  filter: brightness(1.2);
  text-align: left;
}

.sl-date {
  display: block;
  margin-top: 4px;
  font-size: .9rem;
  opacity: .85;
}

.sl-tags {
  margin-top: 6px;
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
}

/* Session header + meta */
.session-header h2 {
  margin: 8px 0 4px;
}

.session-meta {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin: 6px 0 8px;
}

/* Inspiration */
.inspiration-strip {
  margin-top: 10px;
}

.inspiration-strip .insp-row {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.inspiration-session h4 {
  margin: 10px 0 6px;
}

.inspiration-session ul {
  margin: 0;
  padding-left: 1rem;
}

/* Encounters/Loot/Summary headings (tables come from tables.css) */
.encounters h4,
.loot h4,
.summary h4 {
  margin: 14px 0 8px;
}

/* Markdown summary */
.summary .markdown p {
  margin: 8px 0;
}

.summary .markdown h1,
.summary .markdown h2,
.summary .markdown h3 {
  margin: 10px 0 6px;
}

/* Event log */
.event-log {
  margin-top: 16px;
}

.event-log summary {
  cursor: pointer;
  padding: 8px;
  border: 1px solid var(--sb-border);
  border-radius: 10px;
  background: var(--sb-panel);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, .03);
}

.events {
  list-style: none;
  display: grid;
  gap: 6px;
  margin-top: 10px;
  padding: 0;
}

.events li {
  padding: 8px;
  border: 1px dashed var(--sb-border);
  border-radius: 10px;
  background: rgba(255, 255, 255, .03);
}

.ev-time {
  opacity: .7;
  margin-right: 6px;
}

/* Characters (right panel) */
.char-card {
  border: 1px dashed var(--sb-border);
  border-radius: 12px;
  padding: 8px;
  background: rgba(255, 255, 255, .03);
  margin-bottom: 10px;
}

.muted {
  opacity: .75;
  font-size: .85rem;
}

.small {
  font-size: .8rem;
}

.num {
  font-variant-numeric: tabular-nums;
}

/* tb-title enhancer: apply as class="tb-title skz-title" */
.tb-title.skz-title {
  /* keep tb-title base, then add punch */
  position: relative;
  text-align: center;
  color: var(--sb-gold-strong);
  /* match table heads */
  font-weight: 900;
  /* ensure heavy weight */
  letter-spacing: .02em;
  line-height: 1.2;
  text-shadow: 0 0 6px color-mix(in srgb, var(--sb-gold-strong) 28%, transparent);
}

/* responsive nudge without blowing up existing sizes */
h2.tb-title.skz-title {
  font-size: clamp(1.25rem, 0.9rem + 1vw, 1.6rem);
}

h3.tb-title.skz-title {
  font-size: clamp(1.05rem, 0.85rem + 0.7vw, 1.3rem);
}

/* gold underline (subtle, centered) */
.tb-title.skz-title::after {
  content: "";
  display: block;
  height: 2px;
  margin: 6px auto 2px;
  width: min(220px, 46%);
  border-radius: 2px;
  background: linear-gradient(90deg,
      transparent 0%,
      color-mix(in srgb, var(--sb-gold-strong) 60%, transparent) 15%,
      var(--sb-gold-strong) 50%,
      color-mix(in srgb, var(--sb-gold-strong) 60%, transparent) 85%,
      transparent 100%);
  opacity: .85;
}

.tb-kv-key {
  color: var(--sb-gold);
}

.tb-kv-key strong {
  color: var(--sb-gold-strong);
  filter: brightness(1.2);
}

.tb-actions btn {
  text-align: center;
}

/* Stats page only: center labels inside tb buttons */
.page-stats .tb-btn,
.page-stats .tb-ghost-btn,
.page-stats button.tb-btn,
.page-stats button.tb-ghost-btn,
.page-stats a.tb-btn,
.page-stats a.tb-ghost-btn {
  display: inline-flex;
  /* keep shape but allow centering */
  align-items: center;
  /* vertical center */
  justify-content: center;
  /* horizontal center */
  text-align: center;
  cursor: pointer;
}

/* Keep the export buttons full-width but centered */
.page-stats #stats-tools-panel .tb-actions .tb-btn,
.page-stats #stats-tools-panel .tb-actions .tb-ghost-btn {
  width: 100%;
}

/* Scroll only the list, not the panel header */
#stats-session-list {
  display: flex;
  flex-direction: column;
}




/* Allow the left grid column to let its child scroll (grid quirk) */
.left-column,
#stats-session-list {
  min-height: 0;
}

/* allow overflow from the left column */
#stats-session-list {
  min-height: 0;
}

/* fixed-height, scrollable list (10 rows; JS sets --sl-fixed-h) */
#stats-session-list .sl-items {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin: 0;
  padding: 0;
  list-style: none;
  max-height: var(--sl-max-h, 520px);
  /* cap at ~10 rows; scroll when exceeded */
  overflow-y: auto;
  /* use 'scroll' if you want the track always visible */
  background: transparent;
  scrollbar-gutter: stable;
  /* optional: keeps layout steady when bar appears */
}